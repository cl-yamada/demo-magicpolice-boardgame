<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>魔法捜査官 ボードゲーム版</title>
    <link id="main-stylesheet" rel="stylesheet" href="css/styles.css">
    <link id="mobile-stylesheet" rel="stylesheet" href="css/mobile-styles.css" disabled>
    <link id="pc-stylesheet" rel="stylesheet" href="css/pc-styles.css" disabled>
</head>
<body>

    <!-- ページヘッダー -->
    <header>
        <h1>ボードゲーム版 魔法捜査官</h1>
        <nav>
            <div id="hamburger-menu">
                <span></span>
                <span></span>
                <span></span>
            </div>
            <ul id="nav-links">
                <li><a href="#how-to-play">遊び方</a></li>
                <li><a href="#ending">エンディング</a></li>
            </ul>
        </nav>
    </header>

    <!-- タイトルロゴ -->
    <div class="logo">
        <img src="main_logo.png" alt="タイトルロゴ">
    </div>

    <!-- プロローグ -->
    <section class="prologue">
        <p>都内で凶悪な魔法犯罪が発生。<br>
        被疑者は次々と女性たちを残虐な手口で殺害する
        <ruby>連続殺人鬼<rp>（</rp><rt>シリアルキラー</rt><rp>）</rp></ruby>・時任暗児。<br>
        時任の行方を突き止めるための手掛かりを求め、捜査官・風馬駿と魔法使いアルペジオは、<br>
        記憶透視魔法『ダイブ』を使用して被害者女性の記憶の世界を捜査する。</p>

        <p>果たして、ダンジョンと化した記憶の世界に蠢く
        <ruby>魔法生命体<rp>（</rp><rt>ゴーレム</rt><rp>）</rp></ruby>たちをかいくぐりつつ、<br>
        手掛かりを得ることができるのだろうか……？</p>

        <p>原作/シナリオ：喜多山浪漫<br>
        ゲームデザイン：H1RO</p>
    </section>

    <!-- 遊び方 -->
    <section id="how-to-play" class="how-to-play">
        <h2>遊び方</h2>
        <img src="assets/how_to_play1.png" alt="遊び方画像1">
        <img src="assets/how_to_play2.png" alt="遊び方画像2">
    </section>

    <!-- エンディング -->
    <section id="ending" class="ending">
        <h2>エンディング</h2>
        <div class="qr-codes">
            <div>
                <p>2枚獲得したとき</p>
                <img src="assets/qr_code1.png" alt="QRコード1">
            </div>
            <div>
                <p>1枚獲得したとき</p>
                <img src="assets/qr_code2.png" alt="QRコード2">
            </div>
            <div>
                <p>0枚獲得したとき</p>
                <img src="assets/qr_code3.png" alt="QRコード3">
            </div>
        </div>
    </section>

    <!-- ページフッター -->
    <footer>
        <p id="view-switcher">
            <span id="toggle-view" class="view-link">PC版に切り替え</span> <!-- ここが動的に切り替わる -->
        </p>
        <p id="version-info">サイトバージョン: v1.0.1</p> <!-- バージョン情報を表示 -->
    </footer>

    <script>
        // ハンバーガーメニューの開閉
        const hamburgerMenu = document.getElementById('hamburger-menu');
        const navLinks = document.getElementById('nav-links');
        hamburgerMenu.addEventListener('click', () => {
            navLinks.classList.toggle('open');
        });

        // 閲覧環境を表示し、切り替えるスクリプト
        const toggleViewLink = document.getElementById('toggle-view');
        const mobileStylesheet = document.getElementById('mobile-stylesheet');
        const pcStylesheet = document.getElementById('pc-stylesheet');

        // 初期状態を判定（スマホ版かPC版か）
        let isMobileView = window.innerWidth <= 768;

        // 初期表示に応じてボタンのテキストを設定
        function updateToggleText() {
            if (isMobileView) {
                toggleViewLink.textContent = 'PC版に切り替え';
            } else {
                toggleViewLink.textContent = 'スマホ版に切り替え';
            }
        }

        // ビューの切り替え
        function toggleView() {
            isMobileView = !isMobileView;

            if (isMobileView) {
                // スマホ版を有効にし、PC版を無効にする
                mobileStylesheet.disabled = false;
                pcStylesheet.disabled = true;
            } else {
                // PC版を有効にし、スマホ版を無効にする
                mobileStylesheet.disabled = true;
                pcStylesheet.disabled = false;
            }

            // ボタンのテキストを更新
            updateToggleText();
        }

        // 初期表示の設定
        updateToggleText();

        // ボタンをクリックしたときに表示を切り替える
        toggleViewLink.addEventListener('click', toggleView);
    </script>

</body>
</html>