<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>魔法捜査官 ボードゲーム版</title>
    <link id="main-stylesheet" rel="stylesheet" href="css/styles.css">
    <link id="mobile-stylesheet" rel="stylesheet" href="css/mobile-styles.css" disabled>
    <link id="pc-stylesheet" rel="stylesheet" href="css/pc-styles.css" disabled>
    <style>
        body {
            background-image: url('assets/hp_background.png');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
        }
    </style>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-CPHGRZ8F5M"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-CPHGRZ8F5M');
    </script>
</head>
<body>

    <!-- ページヘッダー -->
    <header>
        <img src="assets/img-logo.png" alt="ボードゲーム版 魔法捜査官">
        <nav>
            <div id="hamburger-menu">
                <span></span>
                <span></span>
                <span></span>
            </div>
            <ul id="nav-links">
                <li><a href="#how-to-play">遊び方</a></li>
                <li><a href="#ending">エンディング</a></li>
            </ul>
        </nav>
    </header>

    <!-- タイトルロゴ -->
    <div class="logo">
        <img src="assets/main_logo.png" alt="タイトルロゴ">
    </div>

    <!-- プロローグ -->
    <section class="prologue">
        <img src="assets/1_story.png" alt="プロローグ">
    </section>

    <!-- 冊子 表-->
    <section class="book_omote">
        <img src="assets/book_omote_low.png" alt="冊子">
    </section>
    <section class="download">
        <div class="pdf-download">
            <a href="assets/pdf_book_omote.pdf" target="_blank" rel="noopener noreferrer" title="ボードゲーム版魔法捜査官_ルールブック">
                <img src="assets/btn_download.png" alt="ダウンロードアイコン" class="download-btn">
                <img src="assets/btn_download_hover.png" alt="ダウンロードアイコン（ホバー時）" class="download-btn-hover">
            </a>
        </div>
    </section>
    
    <!-- 冊子 裏-->
    <section class="book_ura">
        <img src="assets/book_ura_low.png" alt="冊子">
    </section>
    <section class="download">
        <div class="pdf-download">
            <a href="assets/pdf_book_ura.pdf" target="_blank" rel="noopener noreferrer" title="ボードゲーム版魔法捜査官_ルールブック">
                <img src="assets/btn_download.png" alt="ダウンロードアイコン" class="download-btn">
                <img src="assets/btn_download_hover.png" alt="ダウンロードアイコン（ホバー時）" class="download-btn-hover">
            </a>
        </div>
    </section>

    <!-- 遊び方 -->
    <section id="how-to-play" class="how-to-play">
        <img src="assets/2_assets.png" alt="内容物">
        <img src="assets/3_how_to_play.png" alt="遊び方">
        <img src="assets/4_conditions.png" alt="終了条件">
        <img src="assets/5_setup.png" alt="ゲームの準備">
    </section>

    <!-- ゲームの進め方 -->
    <section id="game-flow" class="game-flow">
        <img src="assets/6_ingame_1.png" alt="ゲームの進め方">
        <img src="assets/7_ingame_2.png" alt="ゲームの進め方">
        <img src="assets/8_ingame_3.png" alt="ゲームの進め方">
        <img src="assets/9_ingame_4.png" alt="ゲームの進め方">
        <img src="assets/10_ingame_5.png" alt="ゲームの進め方">
    </section>

    
    <!-- ダウンロード -->
    <section class="download">
        <div class="pdf-download">
            <a href="assets/pdf_sample_magicpolice.pdf" target="_blank" rel="noopener noreferrer" title="ボードゲーム版魔法捜査官_ルールブック">
                <img src="assets/btn_download.png" alt="ダウンロードアイコン" class="download-btn">
                <img src="assets/btn_download_hover.png" alt="ダウンロードアイコン（ホバー時）" class="download-btn-hover">
            </a>
        </div>
    </section>

    <!-- エンディング -->
    <section id="ending" class="ending">
        <h2>エンディング</h2>
        <div class="qr-codes">
            <div>
                <a href="https://www.youtube.com/watch?v=hoGp8nVQmb4" target="_blank">
                <p>2枚獲得したとき</p>
                </a>
                <img src="assets/qr_code1.png" alt="QRコード1">
            </div>
            <div>
                <a href="https://www.youtube.com/watch?v=hoGp8nVQmb4" target="_blank">
                <p>1枚獲得したとき</p>
                </a>
                <img src="assets/qr_code2.png" alt="QRコード2">
            </div>
            <div>
                <a href="https://www.youtube.com/watch?v=hoGp8nVQmb4" target="_blank">
                <p>0枚獲得したとき</p>
                </a>
                <img src="assets/qr_code3.png" alt="QRコード3">
            </div>
        </div>
    </section>

    <!-- ページフッター -->
    <footer>
        <p id="view-switcher">
            <span id="toggle-view" class="view-link">PC版に切り替え</span> <!-- ここが動的に切り替わる -->
        </p>
        <p id="version-info">サイトバージョン: v1.0.1</p> <!-- バージョン情報を表示 -->
        <!-- 権利表記を追加 -->
        <p id="copyright">© Roman Kitayama. All rights reserved.</p>
    </footer>

    <script>
        // ハンバーガーメニューの開閉
        const hamburgerMenu = document.getElementById('hamburger-menu');
        const navLinks = document.getElementById('nav-links');
        hamburgerMenu.addEventListener('click', () => {
            navLinks.classList.toggle('open');
        });

        // 閲覧環境を表示し、切り替えるスクリプト
        const toggleViewLink = document.getElementById('toggle-view');
        const mobileStylesheet = document.getElementById('mobile-stylesheet');
        const pcStylesheet = document.getElementById('pc-stylesheet');

        // 初期状態を判定（スマホ版かPC版か）
        let isMobileView = window.innerWidth <= 768;

        // 初期表示に応じてボタンのテキストを設定
        function updateToggleText() {
            if (isMobileView) {
                toggleViewLink.textContent = 'PC版に切り替え';
            } else {
                toggleViewLink.textContent = 'スマホ版に切り替え';
            }
        }

        // ビューの切り替え
        function toggleView() {
            isMobileView = !isMobileView;

            if (isMobileView) {
                // スマホ版を有効にし、PC版を無効にする
                mobileStylesheet.disabled = false;
                pcStylesheet.disabled = true;
            } else {
                // PC版を有効にし、スマホ版を無効にする
                mobileStylesheet.disabled = true;
                pcStylesheet.disabled = false;
            }

            // ボタンのテキストを更新
            updateToggleText();
        }

        // 初期表示の設定
        updateToggleText();

        // ボタンをクリックしたときに表示を切り替える
        toggleViewLink.addEventListener('click', toggleView);
    </script>

</body>
</html>