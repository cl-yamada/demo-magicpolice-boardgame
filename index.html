<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>魔法捜査官 ボードゲーム版</title>
    <link id="main-stylesheet" rel="stylesheet" href="css/styles.css">
    <link id="mobile-stylesheet" rel="stylesheet" href="css/mobile-styles.css" disabled>
    <link id="pc-stylesheet" rel="stylesheet" href="css/pc-styles.css" disabled>
    <style>
        body {
            background-image: url('assets/hp_background.png');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
        }
    </style>
</head>
<body>

    <!-- ページヘッダー -->
    <header>
        <img src="assets/img-logo.png" alt="ボードゲーム版 魔法捜査官">
        <nav>
            <div id="hamburger-menu">
                <span></span>
                <span></span>
                <span></span>
            </div>
            <ul id="nav-links">
                <li><a href="#how-to-play">遊び方</a></li>
                <li><a href="#ending">エンディング</a></li>
            </ul>
        </nav>
    </header>

    <!-- タイトルロゴ -->
    <div class="logo">
        <img src="main_logo.png" alt="タイトルロゴ">
    </div>

    <!-- プロローグ -->
    <section class="prologue">
        <img src="assets/img-prologue.png" alt="プロローグ">
    </section>

    <!-- 遊び方 -->
    <section id="how-to-play" class="how-to-play">
        <h2>遊び方</h2>
        <img src="assets/img-inassets.png" alt="内容物">
        <img src="assets/img-how-to-play1.png" alt="遊び方">
    </section>

    <!-- エンディング -->
    <section id="ending" class="ending">
        <h2>エンディング</h2>
        <div class="qr-codes">
            <div>
                <p>2枚獲得したとき</p>
                <img src="assets/qr_code1.png" alt="QRコード1">
            </div>
            <div>
                <p>1枚獲得したとき</p>
                <img src="assets/qr_code2.png" alt="QRコード2">
            </div>
            <div>
                <p>0枚獲得したとき</p>
                <img src="assets/qr_code3.png" alt="QRコード3">
            </div>
        </div>
    </section>

    <!-- ページフッター -->
    <footer>
        <p id="view-switcher">
            <span id="toggle-view" class="view-link">PC版に切り替え</span> <!-- ここが動的に切り替わる -->
        </p>
        <p id="version-info">サイトバージョン: v1.0.1</p> <!-- バージョン情報を表示 -->
    </footer>

    <script>
        // ハンバーガーメニューの開閉
        const hamburgerMenu = document.getElementById('hamburger-menu');
        const navLinks = document.getElementById('nav-links');
        hamburgerMenu.addEventListener('click', () => {
            navLinks.classList.toggle('open');
        });

        // 閲覧環境を表示し、切り替えるスクリプト
        const toggleViewLink = document.getElementById('toggle-view');
        const mobileStylesheet = document.getElementById('mobile-stylesheet');
        const pcStylesheet = document.getElementById('pc-stylesheet');

        // 初期状態を判定（スマホ版かPC版か）
        let isMobileView = window.innerWidth <= 768;

        // 初期表示に応じてボタンのテキストを設定
        function updateToggleText() {
            if (isMobileView) {
                toggleViewLink.textContent = 'PC版に切り替え';
            } else {
                toggleViewLink.textContent = 'スマホ版に切り替え';
            }
        }

        // ビューの切り替え
        function toggleView() {
            isMobileView = !isMobileView;

            if (isMobileView) {
                // スマホ版を有効にし、PC版を無効にする
                mobileStylesheet.disabled = false;
                pcStylesheet.disabled = true;
            } else {
                // PC版を有効にし、スマホ版を無効にする
                mobileStylesheet.disabled = true;
                pcStylesheet.disabled = false;
            }

            // ボタンのテキストを更新
            updateToggleText();
        }

        // 初期表示の設定
        updateToggleText();

        // ボタンをクリックしたときに表示を切り替える
        toggleViewLink.addEventListener('click', toggleView);
    </script>

</body>
</html>